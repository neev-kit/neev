# Critical Documentation vs Implementation Analysis

## Executive Summary

**CRITICAL FINDING:** There is a significant gap between what the documentation claims and what the software actually implements. The documentation is **outdated and incomplete**, missing key commands and features that currently exist.

---

## 1. Commands: What Exists vs What's Documented

### Actual Commands (14 total)
```
Available Commands:
  bridge         Bridge to external systems
  completion     Generate the autocompletion script for the specified shell
  cucumber       Generate Cucumber/BDD test scaffolding from a blueprint
  draft          Draft a new blueprint
  handoff        Create a handoff prompt for an agent role
  help           Help about any command
  init           Initialize the Neev foundation
  inspect        Inspect the foundation for drift
  instructions   Generate GitHub Copilot instructions
  lay            Archive a blueprint into the foundation
  migrate        Migrate existing project to Neev
  openapi        Generate OpenAPI specification from a blueprint
  slash-commands Manage slash commands for AI tools
  sync-remotes   Sync remote foundations to local .neev/remotes
```

### Documentation Gaps by File

#### README.md
**Missing Commands Not Documented:**
- ❌ `neev cucumber` - NOT mentioned (exists in CLI)
- ❌ `neev openapi` - NOT mentioned (exists in CLI)
- ❌ `neev handoff` - NOT mentioned (exists in CLI)
- ❌ `neev lay` - NOT documented (exists in CLI)
- ❌ `neev migrate` - NOT documented (exists in CLI)
- ❌ `neev instructions` - NOT documented (exists in CLI)
- ❌ `neev slash-commands` - NOT documented (exists in CLI)
- ❌ `neev sync-remotes` - NOT documented (exists in CLI)

**What IS Documented:**
- ✅ `neev init`
- ✅ `neev draft`
- ✅ `neev bridge`
- ✅ `neev inspect` (marked as internal, but it's public)

#### USAGE.md
**Claims (Lines 1-150):**
- States: "3 [Command Reference](#command-reference)" - but only shows placeholders
- Shows command skeleton but **NO ACTUAL DETAILS**
- Missing: cucumber, openapi, handoff, lay, migrate, instructions, slash-commands

#### API_REFERENCE.md
**Table of Contents lists (Line 5-20):**
- Lists: init, draft, bridge, inspect, instructions, sync-remotes, lay, migrate, handoff
- But missing: cucumber, openapi, slash-commands, completion
- **Note:** Even with this list, the actual implementation details are incomplete/outdated

---

## 2. Features: What Doesn't Match Reality

### Slash Commands: Three Different Systems

The documentation is **confusing about slash commands** because there are actually THREE layers:

1. **GitHub Copilot Instructions** (`.github/copilot-instructions.md`)
   - Generated by `neev init`
   - Documented in `COPILOT_SLASH_COMMANDS.md`

2. **Command Registry** (`.neev/commands/registry.yaml`)
   - Generated by `neev init`
   - Central registry for all commands

3. **Tool-Specific Manifests**
   - `.cursor/commands.json` (Cursor IDE)
   - `.vscode/commands.json` (VS Code)
   - `.github/slash-commands.json` (GitHub Copilot JSON format)

**Documentation Problem:** None of the main docs (README, USAGE, API_REFERENCE) clearly explain this three-tier system.

### File Generation During `neev init`

**What init.go actually creates:**
```
.neev/
  ├── neev.yaml
  ├── blueprints/
  ├── foundation/
  │   ├── stack.md
  │   ├── principles.md
  │   └── patterns.md
  └── commands/
      └── registry.yaml

.github/
  ├── copilot-instructions.md
  ├── slash-commands.json          ← NOT documented

.cursor/
  └── commands.json                ← NOT documented

.vscode/
  └── commands.json                ← NOT documented

AGENTS.md                           ← NOT documented
```

**Documentation claims:** "Creates `.neev/` directory structure, `neev.yaml`, empty `blueprints/` and `foundation/` directories"

**Reality:** 10+ files are created with specific content, not "empty"

---

## 3. Command Details: Incomplete Documentation

### Commands with NO Usage Examples

- `neev handoff` - Exists but not in main docs
- `neev lay` - Exists but not in main docs (only in API_REFERENCE skeleton)
- `neev migrate` - Exists but not in main docs
- `neev instructions` - Exists but not in main docs
- `neev slash-commands` - Exists but not in main docs
- `neev sync-remotes` - Minimal documentation
- `neev cucumber` - NO practical examples showing how to use it
- `neev openapi` - NO practical examples showing how to use it

### Commands with Incorrect/Misleading Information

**`neev draft` Documentation:**
```
Documented as: "neev draft [title]"
Actual: "neev draft [flags]"
```

**`neev inspect` Documentation:**
- Marked as "internal" in README but is a public command
- Full command available in CLI but not fully documented

**`neev bridge` Documentation:**
- Shows `--focus, -f` flag but doesn't explain what filters are actually available
- No examples of real output

---

## 4. Feature Documentation Issues

### GitHub Copilot Integration: Contradictory Information

- **Before:** Docs said slash commands only work via documentation/natural language
- **After:** Implemented proper JSON manifest for slash command discovery
- **Current Status:** Multiple docs exist but don't align:
  - `COPILOT_SLASH_COMMANDS.md` (new, comprehensive)
  - `.github/copilot-instructions.md` (new, generated)
  - `README.md` (old, doesn't mention slash commands)
  - `USAGE.md` (old, doesn't mention slash commands)

### Foundation Files: What Gets Generated

**Documentation Claims:**
- "Empty `blueprints/` and `foundation/` directories"

**Reality:**
- Foundation gets 3 template files: `stack.md`, `principles.md`, `patterns.md`
- Blueprints directory is empty (this part is correct)
- AGENTS.md gets generated with AI tool instructions (NOT documented)

---

## 5. Architecture Documentation Issues

### Missing Context in Main Docs

**What's not explained in README/USAGE:**
1. The `.neev/commands/registry.yaml` system
2. The three-tier slash command system (Copilot, Cursor, VS Code)
3. The AGENTS.md fallback for AI tools
4. The `neev sync-remotes` system
5. The `neev migrate` command purpose
6. The `neev lay` command purpose

### Outdated Project Structure Documentation

CONTRIBUTING.md lists:
```
cli/cmd/
  ├── root.go
  ├── init.go
  ├── draft.go
  ├── bridge.go
  ├── lay.go
  └── inspect.go
```

**Missing from this list:**
- `cucumber.go`
- `openapi.go`
- `handoff.go`
- `migrate.go`
- `instructions.go`
- `slash_commands.go`
- `sync_remotes.go`

---

## 6. Documentation Files Analysis

| File | Status | Issues |
|------|--------|--------|
| README.md | ⚠️ Outdated | Missing 8+ commands, outdated workflow |
| USAGE.md | ⚠️ Incomplete | Skeleton only, no command details |
| API_REFERENCE.md | ⚠️ Partial | Lists commands but many have no details |
| CONTRIBUTING.md | ⚠️ Outdated | Project structure incomplete |
| GETTING_STARTED.md | ❓ Unknown | Need to verify |
| BEST_PRACTICES.md | ❓ Unknown | Need to verify |
| DEVELOPMENT.md | ⚠️ Outdated | Doesn't mention new commands/features |
| COPILOT_SLASH_COMMANDS.md | ✅ Current | Comprehensive and accurate |
| .github/copilot-instructions.md | ✅ Generated | Accurate (generated automatically) |

---

## 7. Commands That Need Documentation

### Tier 1: Mission Critical (Missing from ALL docs)
- `neev slash-commands` - Manages slash commands for AI tools
- `neev handoff` - Create handoff prompts for agent roles
- `neev cucumber` - Generate BDD test scaffolding
- `neev openapi` - Generate OpenAPI specification
- `neev instructions` - Generate GitHub Copilot instructions

### Tier 2: Important (Minimal/No docs)
- `neev lay` - Archive blueprint into foundation
- `neev migrate` - Migrate existing project to Neev
- `neev sync-remotes` - Sync remote foundations

---

## 8. Missing Sections in Documentation

### README.md Should Have:
- Full command reference (not just init/draft/bridge)
- GitHub Copilot slash commands section
- AI tool integration section
- File structure explanation

### USAGE.md Should Have:
- All 14 commands with examples
- Slash command usage (3-tier system)
- AI tool integration workflows
- Common patterns

### API_REFERENCE.md Should Have:
- Complete details for ALL commands
- Flag/parameter documentation
- Real output examples
- Exit codes for all commands

---

## Critical Statistics

| Metric | Count | Status |
|--------|-------|--------|
| Actual Commands | 14 | ✅ Implemented |
| Commands Documented in README | 4 | ⚠️ 71% Missing |
| Commands Documented in USAGE | 4 | ⚠️ 71% Missing |
| Commands with Examples | ~6 | ⚠️ 57% Missing |
| New Features (Copilot integration) | Not in main docs | ❌ Undiscovered |
| AI Tool Integration | Not explained | ❌ Hidden feature |

---

## Summary of Required Documentation Updates

1. **README.md** - Add all 14 commands with basic descriptions
2. **USAGE.md** - Complete command reference with examples
3. **API_REFERENCE.md** - Fill in missing command details
4. **NEW: SLASH_COMMANDS.md** - Dedicated guide for slash commands (separate from COPILOT_SLASH_COMMANDS.md)
5. **CONTRIBUTING.md** - Update project structure
6. **GETTING_STARTED.md** - Update workflow examples
7. **NEW: COMMAND_CATALOG.md** - Single source of truth for all commands

---

## Root Cause

The documentation was written for an earlier version of Neev with fewer commands. As features were added (cucumber, openapi, handoff, migrate, lay, slash-commands, sync-remotes), the documentation was NOT updated accordingly. This has created a **50%+ gap** between claimed functionality and actual implementation.
